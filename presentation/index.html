<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<style>
			.scrollable {
				overflow-y: auto !important;
				overflow-x: hidden !important;
				height: 700px;
			}
			.reveal section img {
				border: none;
				max-height: 500px;
			}
		</style>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-markdown>
					<textarea data-template>
						## How to be evil with Kotlin
						<aside class="notes">
							Hello fellow (ladies and) gentleman and welcome to the villains 1-o-1 for Kotlin. Today is a big day!
							In the past few years we, the association of evil programmers, have suffered heavy losses. You all know
							what i am talking about: nächste Folie
						</aside>
					</textarea>
				</section>
				<section>
					<section data-transition="fade-out">
						<img src="pics/Kotlin Waschmittel.jpg" width="50%">
						<aside class="notes">
							This! This despicably clean and concise language took everything from us. It took our verbosity! It took
							our complexity. Yes, it might even take our jobs! But not anymore my friends, not anymore... nächste Folie
						</aside>
					</section>
					<section data-transition="fade-in">
						<img src="pics/Kotlin Waschmittel - Injection.jpg" width="50%">
						<aside class="notes">
							...because it is time to strike back! Yes, today is the day of revenge! Our final judgement will descend
							upon this thorn in our side and we will have victory! Of course, you might ask: How is that possible? 
							Well, without further ado, let's take a look... nächste Folie
						</aside>
					</section>
				</section>
				<section data-markdown>
					<textarea data-template>
						<img src="pics/if_toolbox_286688.png">
						<aside class="notes">
							After todays class, you will leave with everything necessary. We will show you some of the most important
							tools to realize your diabolic plans in Kotlin. Of course they are only the first step. They need to be 
							used with finesse... with creativity. Which means you will need to give me your undivided attention! So,
							is everybody on board?
						</aside>
					</textarea>
				</section>
				<section data-markdown data-separator-vertical="___">
					<textarea data-template>
						## Infixing
						<img src="pics/Infix.png">
						<aside class="notes">
							Our first tool for the day will be infixing. Kotlins creators thought it would be a nice way to make code
							readable, to simplify it. Oh, but why should we use it that way? No, we will show you how to turn it against
							itself, how to create some of the most obstuse spaghetti code imaginable. When we are finished every programmer
							working with our codebase will curse us and our children for at least 5 generations. So look forward to it!
						</aside>
						___
						```Kotlin
						infix fun test(other: Int): MyClass {
							return MyClass(this.innerValue + other)
						}

						var myObj = MyClass(2)
						myObj = myObj test 2
						```
						<aside class="notes">
							Creating an infix function is rather simple: just take a normal function with exactly one parameter and add the
							infix modifier and congratulations: you created your first infix function. Now of course this was meant to enable
							the usage of human readable function calls, but the nice part about it is, that human language has more than one
							meaning in most cases. But infix functions alone wouldn't be nearly enough.
						</aside>
					</textarea>
				</section>
				<section data-markdown data-separator-vertical="___">
					<textarea data-template>
						## Operator overloading
						<img src="pics/143769392_b195dcaa34_b.jpg">
						<aside class="notes">
							Another nice tool for that regard is the use of operator overloading. Of course this is meant to be synthactic sugar,
							but we will turn it into synthactic poison. What use is a nice concise way of writing calculations between classes,
							if nobody knows anymore which calculation is actually used? The answer is none! Which is exactly what we want!
						</aside>
						___
						```Kotlin
						operator fun plus(other: Int): MyClass {
							return MyClass(innerValue + other)
						}

						var myObj = MyClass(1)
						myObj = myObj + 1
						```
						<aside class="notes">
							As with the infix functions operator functions are very simple to create. Kotlin only allows for the most common set of
							operators to be defined for a class, but that is more than enough to help with our obfuscation. Especially if you combine
							it with the next tool on the list...
						</aside>
					</textarea>
				</section>
				<section data-markdown data-separator-vertical="___">
					<textarea data-template>
						## Extensions
						<img src="pics/38138140161_c25670850c_z.jpg">
						<aside class="notes">
							...Extensions! Why settle with little annoyances when we can actually alter classes outside our initial definition? Nobody will know
							where we have hidden our code that is actually meaningful. And of course we will lay traps... we will let them think they
							know which piece of code is executed, just to baffle their attempts at refactoring when nothing works as expected.
						</aside>
						___
						```Kotlin
						fun MyClass.newFunction(other: Int): MyClass {
							// do something
						}
						```
						<aside class="notes">
							Of course for us evil programmers the best case would be to overwrite existing functions. Unfortunately Kotlin foils our plans in
							that regard once again, as you will see later on. This is just a simple example of what extension functions you could write.
							Just place a dot behind your classname and Kotlin will apply the newly declared function for you.
							Please remember that those functions are added at static level, so you can just put them in the most unexpected places.
							But even extension functions have a limit, everything so far is more a confusion strategy than anything else. But now...
						</aside>
					</textarea>
				</section>
				<section data-markdown data-separator-vertical="___">
					<textarea data-template>
						## Type aliases
						<img src="pics/5870068870_922f267e45_b.jpg">
						<aside class="notes">
							...our most important helper arrives! Type aliases! This beautiful creation of chaos, which allows us to
							ascend beyond annoyance. To become a real menace! With their help we will destroy existing functionality, overwriting
							it with our own implementations, creating our own evil clone army of classes. With them we will inject our evil clones
							into existing projects and destroy their existing functionality without anyone noticing. Yes, the world of Kotlin will 
							tremble before us and our malicious intent!
						</aside>
						___
						```Kotlin
						typealias MyClass = OtherClass
						```
						<aside class="notes">
							And funny enough - our most important helper is actually just as simple as any other tool so far. just write a simple
							equation and everything is replaced with our alias. To be honest i'm not even sure if there is any legitimate reason
							to use typealiases, because yes they do add flexibility. But at the cost of stability. Even the cleanest code can be
							corrupted with a simple copy-paste modification and an alias. So yeah, maybe it wouldn't be the worst idea to remove
							this language feature.
						</aside>
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## Ready for Battle?
						<img src="pics/2943176211_0f579b7f7f_b.jpg">
						<aside class="notes">
							Are there any questions regarding the tools so far? So with that said, it is time to get started. 
							You now know the tools, but we still need to get you ready to fight. For that i have prepared some 
							examples to prove our evil and to show you how it's done.
						</aside>
					</textarea>
				</section>
				<section>
					<h2>Obfuscation</h2>
					<img src="pics/14677378735_4b4a9ce764_k.jpg">
					<aside class="notes">
						The first few ones will show you how to obsfucate some of your code. It is quite ironic because i
						needed to keep the examples small, so we could read them. But at the same time a real lengthy
						spaghetti code still works wonders to obsfucate it's true meaning. So please bear in mind, that these
						are examples that you need to implement into bigger applications to cause real damage. But even then,
						i hope this will be enough to emphasize the usage of our tools.
					</aside>
				</section>
				<section>
					<section data-transition="fade-out">
						<img src="pics/if_25_1715743.png">
						<aside class="notes">
							And back we are! I hope you liked the first short excourse, because as i initially said: it was but
							a small example. And now we get to the most interesting part, the part were we leave the small annoyances
							aside. The part were we damage existing code.
						</aside>
					</section>
					<section data-transition="fade-in">
						<img src="pics/if_26_1715742.png">
						<aside class="notes">
							And back we are! I hope you liked the first short excourse, because as i initially said: it was but
							a small example. And now we get to the most interesting part, the part were we leave the small annoyances
							aside. The part were we damage existing code.
						</aside>
					</section>
				</section>
				<section data-markdown>
					<textarea data-template>
						## Code injection
						<img src="pics/if_drugs_injection_339865.png">
						<aside class="notes">
							Yes, i am talking about code injection! Or in our case it is rather a code replacement. We will create
							classes which will act as clones to existing classes. But instead of fulfilling their original purpose
							they will do something extra, something only we want, which will run parallel to everything else.
						</aside>
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## How to distribute it?
						<img src="pics/dependecy-management.jpg">
						<aside class="notes">
							Ok, so now we know how to create our own aliases to overwrite existing functionality. You might ask yourself,
							where is the last step? How do we actually inject those code pieces into an application. Of course you could
							go the traditional way... trying to break inside. But why do that, when we can just make them download our
							malicious clone army? We have a whole business model of tools behind us, that allow us to distribute our evil
							intent to the whole world. Just create something nice, an open source project people want to use... but include
							a littl present, a simple typealias for array for example. Don't believe this would work? Well, let's try to see
							some hands: Who here actually checks every dependency he imports on credibility? And i'm not talking about
							superficial: "Oh it's used by dozens of other projects, it must be good", i'm talking about actually diving into
							the code base to check if everything is as it should be? And who is like me, and thinks: Meh, too much work?
							Yeah, i thought so. And i actually did, have it right here in my speakers notes.
						</aside>
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						## Choose your side!
						<img src="pics/Good-Evil.jpg">
						<aside class="notes">
							But as nice as it was to succumb to the dark side for today, let me end on a little more seriouse note. Even
							a clean language like Kotlin won't safe you from the responsibility to check what is actually happening in
							your code base. Be wary of using code you don't know or don't understand yet. Because even though i haven't
							heard of anybody exploiting our global community of code contribution yet, there is always a first time. And
							in the end even Kotlin can be used as a tool for evil.
						</aside>
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						Overloaded - dadiolli, Flickr, CC BY-NC-ND 2.0, https://www.flickr.com/photos/absurdistan/143769392/ <br/>
						Obfuscation - popofatticus, Flickr, CC BY 2.0, https://www.flickr.com/photos/barretthall/14677378735/ <br/>
						Clones - Caleb Wagoner, Flickr, CC BY 2.0, https://www.flickr.com/photos/masked-builder/5870068870/ <br/>
						Armed - stu_spivack, Flickr, CC BY-SA 2.0, https://www.flickr.com/photos/stuart_spivack/2943176211/ <br/>
						<aside class="notes">
							Here are the obligatory mentions of everybody who contributed directly or indirectly to this talk. Thank you
							very much!
						</aside>
					</textarea>
				</section>
				<section data-markdown>
					<textarea data-template>
						Extension - xlibber, Flickr, CC BY 2.0, https://www.flickr.com/photos/xlibber/38138140161/ <br/>
						Icons - IconFinder
					</textarea>
				</section>
				<section>
					<img style="left: 20px; top:20px" src="pics/EWAJH0Lp_400x400.jpg">
						<h3>Simon Schell</h3>
						Email: simonschell@unitybox.de<br/>
						Twitter: @SoSayethSimon<br/>
						GitHub: @SoSayethSimon/Evil-Kotlin<br/>
						<aside class="notes">
							And here are some informations about myself. If you want to know anything more, you are of course invited to contact
							me in any way you deem the best. And with this a big thank you for listening!
						</aside>
				</section>
				<section>
					<h2>Thank you for listening!</h2>
					<aside class="notes">
						And with that i would like to conclude this talk. Thank you for listening and i hope we can now start a little brainstorming
						session, of other things we would like to break ;)
					</aside>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
